<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>R 프로그래밍 - 데이터 프레임</title>
  <meta name="description" content="데이터 프레임?">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://k4771kim.github.io/2017/07/25/R-%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC-%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5-%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%B7.html">
  <link rel="alternate" type="application/rss+xml" title="KBG's Develop Blog" href="http://k4771kim.github.io/feed.xml">
</head>


<body>
  <div class="outer">
    <header class="site-header">

      <div class="wrapper">

        <a class="site-title" href="/">KBG's Develop Blog</a>

      </div>

      <div class="header-badge">
        <a href="/">
          <img src="/assets/profile4.png" />
        </a>
      </div>

    </header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post card" itemscope itemtype="http://schema.org/BlogPosting">
          <div class="card-content">
            <header class="post-header">
              <h1 class="post-title" itemprop="name headline">R 프로그래밍 - 데이터 프레임</h1>
              <p class="post-meta"><time datetime="2017-07-25T00:00:00+09:00" itemprop="datePublished">Jul 25, 2017</time></p>
            </header>

            <div class="post-content" itemprop="articleBody">
              <h3 id="데이터-프레임">데이터 프레임?</h3>

              <p>데이터 프레임은 행과 열로 구성된 표 모양의 데이터 형태이다. RDB의 table 형태라고 생각하면 될 것 같다.</p>

              <p>데이터 프레임을 만드는 함수는 data.frame() 이다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">english</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>

<span class="n">math</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="k">class</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="n">df_midterm</span> <span class="o">&lt;-</span> <span class="n">data</span><span class="p">.</span><span class="nf">frame</span><span class="p">(</span><span class="n">english</span><span class="p">,</span> <span class="n">math</span><span class="p">,</span><span class="k">class</span><span class="p">)</span> 

<span class="n">df_midterm</span> <span class="c1"># df를 붙이면 다른 변수와 구분이 용이하다.</span></code></pre>
              </figure>

              <p>한번에 만드려면</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">df_midterm</span> <span class="o">&lt;-</span> <span class="n">data</span><span class="p">.</span><span class="nf">frame</span><span class="p">(</span><span class="n">english</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
		  	  <span class="n">math</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span>
	  		  <span class="k">class</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span></code></pre>
              </figure>

              <p><strong>데이터 프레임 분석하기</strong></p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">mean</span><span class="p">(</span><span class="n">df_midterm</span><span class="vg">$english</span><span class="p">)</span> <span class="c1"># $: 데이터 프레임 안의 변수를 지정할때 사용 </span></code></pre>
              </figure>

              <p>Excel, CSV 등 데이터시트 파일을 불러와 데이터프레임을 만들 수 있다.</p>

              <p>Excel파일을 불러오기 위해서는 ‘readxl’ 패키지가 필요하다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">install</span><span class="p">.</span><span class="nf">packages</span><span class="p">(</span><span class="s2">"readxl"</span><span class="p">)</span>

<span class="n">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span></code></pre>
              </figure>

              <p><strong>Excel File 불러오기</strong></p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">df_exam</span> <span class="o">&lt;-</span> <span class="n">read_excel</span><span class="p">(</span><span class="s2">"R_example.xlsx"</span><span class="p">)</span><span class="c1"># 프로젝트 폴더의 파일 뿐 아니라 경로지정으로 다른 폴더의 파일도 지정 가능하다.</span>

<span class="n">df_exam2</span> <span class="o">&lt;-</span> <span class="n">read_excel</span><span class="p">(</span><span class="s2">"R_example.xlsx"</span> <span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="no">F</span><span class="p">)</span> <span class="c1"># 첫번째 행을 변수명이 아닌 데이터로 인식해 불러온다.</span>

<span class="n">df_exam_sheet</span> <span class="o">&lt;-</span> <span class="n">read_excel</span><span class="p">(</span><span class="s2">"R_example.xlsx"</span> <span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">#여러 개의 시트가 있는 경우, 엑셀 파일의 세번째 시트에 있는 데이터를 불러온다.</span></code></pre>
              </figure>

              <p>CSV 파일은 R에 내장된 read.csv()를 사용하여 불러올 수 있다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">df_csv_exam1</span> <span class="o">=</span> <span class="n">read</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="s2">"csv_exam.csv"</span><span class="p">)</span>

<span class="n">df_csv_exam2</span> <span class="o">=</span> <span class="n">read</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="s2">"csv_exam.csv"</span> <span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="no">F</span><span class="p">)</span> <span class="c1"># 첫번째 행을 변수명이 아닌 데이터로 인식해 불러온다.</span>

<span class="n">df_csv_exam3</span> <span class="o">=</span> <span class="n">read</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="s2">"csv_exam.csv"</span><span class="p">,</span> <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="no">F</span><span class="p">)</span> <span class="c1"># 데이터를 factor타입이 아닌 문자 타입으로 불러온다.</span></code></pre>
              </figure>

              <p>데이터 프레임을 CSV파일로 저장하려면 R에 내장된 write.csv()를 사용하면 된다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">write</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="n">df_csv_exam1</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s2">"df_csv_exam1.csv"</span><span class="p">)</span></code></pre>
              </figure>

              <p>R 전용 데이터 파일인 RData(.rda, .rdata)을 사용하면 R에서 일고 쓰는 속도가 빠르고 용량이 작다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">save</span><span class="p">(</span><span class="n">df_csv_exam1</span><span class="p">,</span> <span class="n">file</span> <span class="o">=</span> <span class="s2">"df_csv_exam1.rda"</span><span class="p">)</span> <span class="c1"># RData File로 저장</span>

<span class="nb">load</span><span class="p">(</span><span class="s2">"df_csv_exam1.rda"</span><span class="p">)</span> <span class="c1"># RData File 로드 , 자동으로 새 변수에 할당된다.</span></code></pre>
              </figure>

              <p>데이터프레임을 삭제하려면 rm()을 사용한다.</p>

              <figure class="highlight">
                <pre><code class="language-ruby" data-lang="ruby"><span class="n">rm</span><span class="p">(</span><span class="n">df_csv_exam1</span><span class="p">)</span></code></pre>
              </figure>


            </div>
          </div>
        </article>

      </div>
    </div>

    <footer class="site-footer">

      <div class="wrapper">

        <span class="footer-heading">KBG's Develop Blog</span>

      </div>

    </footer>

  </div>
</body>

</html>